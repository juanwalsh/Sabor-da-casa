================================================================================
                    DOCUMENTA√á√ÉO COMPLETA DO PROJETO
                    Sistema de Vendas + Estoque em Tempo Real
================================================================================

OBJETIVO:
- Site para CLIENTE fazer pedidos (React + Vite)
- App para VENDEDOR gerenciar estoque (React Native + Expo)
- Sincroniza√ß√£o em TEMPO REAL via Firebase Firestore

================================================================================
                              ESTRUTURA DO PROJETO
================================================================================

projeto/
‚îú‚îÄ‚îÄ site/                    # Site do cliente (React + Vite)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx          # Componente principal do site
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.css          # Estilos do site
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ firebase.js      # Configura√ß√£o Firebase do site
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.jsx         # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.js
‚îÇ
‚îú‚îÄ‚îÄ app/                     # App do vendedor (React Native + Expo)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ firebase.js      # Configura√ß√£o Firebase do app
‚îÇ   ‚îú‚îÄ‚îÄ App.js               # Componente principal do app
‚îÇ   ‚îú‚îÄ‚îÄ app.json             # Configura√ß√£o Expo
‚îÇ   ‚îú‚îÄ‚îÄ eas.json             # Configura√ß√£o EAS Build (para APK)
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îî‚îÄ‚îÄ road.txt                 # Este arquivo

================================================================================
                              PASSO 1: CRIAR PROJETO FIREBASE
================================================================================

1. Acesse: https://console.firebase.google.com/
2. Clique em "Adicionar projeto"
3. D√™ um nome ao projeto (ex: "meu-projeto-vendas")
4. Desative Google Analytics (opcional, n√£o √© necess√°rio)
5. Clique em "Criar projeto"

CONFIGURAR FIRESTORE:
1. No menu lateral, clique em "Firestore Database"
2. Clique em "Criar banco de dados"
3. Selecione "Iniciar no modo de teste" (permite leitura/escrita por 30 dias)
4. Escolha a regi√£o (southamerica-east1 para Brasil)
5. Clique em "Ativar"

OBTER CREDENCIAIS:
1. Clique na engrenagem (configura√ß√µes) > "Configura√ß√µes do projeto"
2. Role at√© "Seus aplicativos" e clique no √≠cone "</>" (Web)
3. D√™ um nome (ex: "site")
4. Copie o objeto firebaseConfig:

const firebaseConfig = {
  apiKey: "SUA_API_KEY",
  authDomain: "SEU_PROJETO.firebaseapp.com",
  projectId: "SEU_PROJETO",
  storageBucket: "SEU_PROJETO.appspot.com",
  messagingSenderId: "SEU_SENDER_ID",
  appId: "SEU_APP_ID"
};

IMPORTANTE: Use as MESMAS credenciais no site E no app!

================================================================================
                              PASSO 2: CRIAR O SITE (CLIENTE)
================================================================================

CRIAR PROJETO VITE + REACT:
--------------------------
npm create vite@latest site -- --template react
cd site
npm install firebase
npm install

ARQUIVO: site/src/firebase.js
-----------------------------
import { initializeApp } from 'firebase/app';
import { getFirestore } from 'firebase/firestore';

const firebaseConfig = {
  apiKey: "SUA_API_KEY",
  authDomain: "SEU_PROJETO.firebaseapp.com",
  projectId: "SEU_PROJETO",
  storageBucket: "SEU_PROJETO.appspot.com",
  messagingSenderId: "SEU_SENDER_ID",
  appId: "SEU_APP_ID"
};

const app = initializeApp(firebaseConfig);
export const db = getFirestore(app);

ARQUIVO: site/src/App.jsx
-------------------------
(C√≥digo completo do site - card√°pio, carrinho, finaliza√ß√£o de compra)

FUNCIONALIDADES DO SITE:
- Mostra card√°pio agrupado por categoria
- Carrinho de compras
- N√ÉO mostra estoque para o cliente (escondido)
- Valida estoque antes de finalizar (n√£o deixa ficar negativo)
- Ao confirmar pedido:
  1. Cria documento em 'pedidos' no Firestore
  2. Atualiza estoque de cada produto (decrementa)

IMPORTS NECESS√ÅRIOS NO App.jsx:
import { db } from './firebase';
import {
  collection,
  getDocs,
  doc,
  setDoc,
  updateDoc,
  addDoc,
  increment,
  serverTimestamp
} from 'firebase/firestore';

RODAR SITE:
npm run dev

================================================================================
                              PASSO 3: CRIAR O APP (VENDEDOR)
================================================================================

CRIAR PROJETO EXPO:
-------------------
npx create-expo-app app
cd app
npm install firebase
npm install @react-navigation/native @react-navigation/bottom-tabs
npm install react-native-screens react-native-safe-area-context

ARQUIVO: app/src/firebase.js
----------------------------
(MESMO CONTE√öDO do site/src/firebase.js - MESMAS CREDENCIAIS!)

import { initializeApp } from 'firebase/app';
import { getFirestore } from 'firebase/firestore';

const firebaseConfig = {
  // MESMAS CREDENCIAIS DO SITE!
  apiKey: "SUA_API_KEY",
  authDomain: "SEU_PROJETO.firebaseapp.com",
  projectId: "SEU_PROJETO",
  storageBucket: "SEU_PROJETO.appspot.com",
  messagingSenderId: "SEU_SENDER_ID",
  appId: "SEU_APP_ID"
};

const app = initializeApp(firebaseConfig);
export const db = getFirestore(app);

ARQUIVO: app/App.js
-------------------
(C√≥digo completo do app - lista de estoque, edi√ß√£o, adi√ß√£o de produtos)

FUNCIONALIDADES DO APP:
- Lista produtos com estoque em tempo real (onSnapshot)
- Bot√µes + e - para ajustar estoque rapidamente
- Bot√£o de l√°pis para editar produto (nome, pre√ßo, estoque, categoria, emoji)
- Bot√£o "+ Novo" para adicionar produtos
- Bot√£o excluir produto
- Indicador de estoque baixo (vermelho quando <= 5)
- Valida√ß√£o: n√£o permite estoque negativo
- Modal otimizado para telas pequenas (iPhone 8)
- Seta animada indicando scroll

IMPORTS NECESS√ÅRIOS NO App.js:
import { db } from './src/firebase';
import {
  collection,
  onSnapshot,
  doc,
  updateDoc,
  addDoc,
  deleteDoc
} from 'firebase/firestore';

ARQUIVO: app/app.json
---------------------
{
  "expo": {
    "name": "NomeDoApp",
    "slug": "nome-do-app",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "userInterfaceStyle": "light",
    "owner": "SEU_USERNAME_EXPO",
    "splash": {
      "image": "./assets/splash-icon.png",
      "resizeMode": "contain",
      "backgroundColor": "#ff5722"
    },
    "android": {
      "adaptiveIcon": {
        "foregroundImage": "./assets/adaptive-icon.png",
        "backgroundColor": "#ff5722"
      },
      "package": "com.seuusername.nomeapp"
    }
  }
}

IMPORTANTE NO app.json:
- N√ÉO usar "newArchEnabled": true (causa erro)
- N√ÉO usar "edgeToEdgeEnabled": true (causa erro)
- N√ÉO usar plugin "expo-router" se estiver usando React Navigation

ARQUIVO: app/eas.json (para gerar APK)
--------------------------------------
{
  "cli": {
    "version": ">= 3.0.0"
  },
  "build": {
    "preview": {
      "android": {
        "buildType": "apk"
      }
    },
    "production": {
      "android": {
        "buildType": "apk"
      }
    }
  }
}

RODAR APP (desenvolvimento):
npx expo start --tunnel

================================================================================
                              PASSO 4: ESTRUTURA DO FIRESTORE
================================================================================

COLLECTIONS NO FIRESTORE:
-------------------------

1. produtos (collection)
   ‚îî‚îÄ‚îÄ {produto_id} (document)
       ‚îú‚îÄ‚îÄ nome: string ("Coca-Cola")
       ‚îú‚îÄ‚îÄ preco: number (6.00)
       ‚îú‚îÄ‚îÄ estoque: number (20)
       ‚îú‚îÄ‚îÄ categoria: string ("bebidas")
       ‚îî‚îÄ‚îÄ emoji: string ("ü•§")

2. pedidos (collection)
   ‚îî‚îÄ‚îÄ {pedido_id} (document)
       ‚îú‚îÄ‚îÄ itens: array ([{produtoId: "coca-cola", qtd: 2}])
       ‚îú‚îÄ‚îÄ total: number (12.00)
       ‚îî‚îÄ‚îÄ data: timestamp

POPULAR PRODUTOS INICIAIS (feito automaticamente pelo site):
O site verifica se a collection 'produtos' est√° vazia.
Se estiver, popula com produtos iniciais definidos no c√≥digo.

================================================================================
                              PASSO 5: GERAR APK (ANDROID)
================================================================================

1. CRIAR CONTA EXPO:
   - Acesse: https://expo.dev/signup
   - Crie conta gratuita

2. LOGIN NO TERMINAL:
   cd app
   npx eas login
   (digitar email e senha)

3. INICIALIZAR PROJETO EAS:
   npx eas init --force --non-interactive

4. GERAR APK:

   Op√ß√£o A - Build na nuvem (demora, tem fila):
   npx eas build -p android --profile preview

   Op√ß√£o B - Build local (precisa Android SDK):
   npx eas build --local -p android --profile preview

5. BAIXAR APK:
   - Link aparece no terminal quando termina
   - Ou acesse: https://expo.dev/accounts/SEU_USERNAME/projects/SEU_PROJETO/builds

================================================================================
                              PASSO 6: HOSPEDAR SITE (VERCEL)
================================================================================

1. INSTALAR VERCEL CLI:
   npm install -g vercel

2. BUILD DO SITE:
   cd site
   npm run build

3. DEPLOY:
   vercel --prod

4. O link do site ser√° exibido (ex: https://seu-projeto.vercel.app)

================================================================================
                              FLUXO DE FUNCIONAMENTO
================================================================================

1. CLIENTE acessa o SITE
2. CLIENTE adiciona produtos ao carrinho
3. CLIENTE confirma pedido
4. SITE verifica estoque no Firebase (n√£o deixa negativo)
5. SITE cria pedido e decrementa estoque no Firebase
6. FIREBASE atualiza em tempo real
7. APP do VENDEDOR recebe atualiza√ß√£o instant√¢nea (onSnapshot)
8. VENDEDOR v√™ novo estoque e pode gerenciar produtos

================================================================================
                              CREDENCIAIS DESTE PROJETO (EXEMPLO)
================================================================================

FIREBASE CONFIG USADO:
{
  apiKey: "AIzaSyC2cv-rpbpLnvOHiP5HT5MPIWF7AZDtjFY",
  authDomain: "testesite-6cc48.firebaseapp.com",
  projectId: "testesite-6cc48",
  storageBucket: "testesite-6cc48.firebasestorage.app",
  messagingSenderId: "67197230862",
  appId: "1:67197230862:web:f10e56e0f85666c3e3815f"
}

EXPO:
- Owner: truescrout
- Slug: estoque-app
- Package Android: com.truescrout.estoque

================================================================================
                              COMANDOS √öTEIS
================================================================================

# Site
cd site
npm run dev          # Rodar em desenvolvimento
npm run build        # Build para produ√ß√£o
vercel --prod        # Deploy na Vercel

# App
cd app
npx expo start --tunnel              # Rodar com tunnel (acesso remoto)
npx expo start --tunnel --clear      # Rodar limpando cache
npx eas build -p android --profile preview  # Gerar APK

# Resetar estoque (criar arquivo resetEstoque.js)
node src/resetEstoque.js

================================================================================
                              PROBLEMAS COMUNS E SOLU√á√ïES
================================================================================

ERRO: "expected dynamic type boolean, but had type string"
SOLU√á√ÉO: Remover do app.json:
- "newArchEnabled": true
- "edgeToEdgeEnabled": true
- plugin "expo-router"

ERRO: Teclado cobre modal no iPhone
SOLU√á√ÉO: Usar KeyboardAvoidingView + ScrollView + TouchableWithoutFeedback

ERRO: Estoque ficando negativo
SOLU√á√ÉO: Validar estoque no Firebase ANTES de finalizar compra

ERRO: App n√£o atualiza em tempo real
SOLU√á√ÉO: Usar onSnapshot ao inv√©s de getDocs

================================================================================
                              FIM DA DOCUMENTA√á√ÉO
================================================================================
